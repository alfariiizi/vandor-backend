// Code generated by vandor; DO NOT EDIT.
package asynq

import (
	"context"
	"encoding/json"

	"github.com/hibiken/asynq"
	"{{ (index . 0).ModuleName }}/internal/core/job"
)

func registerJobHandlers(mux *asynq.ServeMux, jobs *job.Jobs) {
{{- range . }}
	mux.HandleFunc("job:{{.TaskName}}", func(ctx context.Context, t *asynq.Task) error {
		var payload job.{{.Payload}}
		if err := json.Unmarshal(t.Payload(), &payload); err != nil {
			return err
		}
		return jobs.{{.Name}}.Handle(ctx, payload)
	})
{{- end }}
}
